<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static',filename='sudoku.css') }}"
    />
    <title>A Number</title>
  </head>
  <body>
    <h1>A Number</h1>

    <main>
      <table class="main"></table>
      <table class="select"></table>
      <div class="box">
        <div class="remove" onclick="remove()">消す</div>
      </div>
      <h2></h2>
    </main>
    <script>
      const question = [
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0],
      ];

      let place;

      init();
      // ゲーム画面生成
      function init() {
        const main = document.querySelector(".main");
        const select = document.querySelector(".select");

        for (let i = 0; i < 9; i++) {
          let tr = document.createElement("tr");
          for (let j = 0; j < 9; j++) {
            let td = document.createElement("td");
            td.onclick = mainClick;
            tr.appendChild(td);
            if (question[i][j] != 0) {
              td.textContent = question[i][j];
            } else {
              td.textContent = null;
              td.classList.add("clickenable");
            }
          }
          main.appendChild(tr);
        }

        for (let i = 0; i < 9; i++) {
          let td = document.createElement("td");
          td.onclick = selectClick;
          td.value = i + 1;
          select.appendChild(td);
          td.textContent = i + 1;
        }
      }

      // 問題パネルのマスが押された時の処理
      function mainClick(e) {
        if (place != undefined) {
          place.classList.remove("mainClick");
        }

        place = e.target;
        place.classList.add("mainClick");
      }

      // 数字選択のマスが押された時の処理
      function selectClick(e) {
        place.textContent = e.target.value;
      }

      //消す処理
      function remove() {
        place.textContent = null;
      }
    </script>
  </body>
</html>
